name: GitHub Actions Demo
on:
  push:
    branches: [ XXX-action-test ]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        # Support LTS versions based on https://nodejs.org/en/about/releases/
        node-version: ['12', '14', '16']
    steps:
      - run: echo "ğŸ” The name of your branch is â€œ${{ github.ref }}â€ and your repository is â€œ${{ github.repository }}â€."
      - uses: actions/checkout@v2
      - name: Use Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v2
        with:
          node-version: ${{ matrix.node-version }}
      - name: Install dependencies
        run: npm ci
      - name: Run tests
        run: npm test
      - name: Run linter
        run: npm run lint

      - name: Read package.json
        uses: dutscher/read-package-json-endpoint-actions@v1.33.7
        id: package-json-endpoint

      - name: Show version number
        run: echo "${{ steps.package-json-endpoint.outputs.endpoint }}"

      #      - run: echo "ğŸ‰ The job was automatically triggered by a â€œ${{ github.event_name }}â€ event."
      #      - run: echo "ğŸ§ This job is now running on a â€œ${{ runner.os }}â€ server hosted by GitHub!"
      #      - run: echo "ğŸ” The name of your branch is â€œ${{ github.ref }}â€ and your repository is â€œ${{ github.repository }}â€."
      #      - name: Check out repository code
      #        uses: actions/checkout@v2
      #      - run: echo "ğŸ’¡ The â€œ${{ github.repository }}â€ repository has been cloned to the runner."
      #      - run: echo "ğŸ–¥ï¸ The workflow is now ready to test your code on the runner."
      #      - name: List files in the repository
      #        run: |
      #          ls ${{ github.workspace }}

#      - name: Release
#        env:
#          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#          NPM_TOKEN: ${{ secrets.NPM_TOKEN }}
#        run: npx semantic-release

      - run: echo "ğŸ This job's status is â€œ${{ job.status }}â€."
